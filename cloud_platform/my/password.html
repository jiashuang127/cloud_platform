<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>修改密码</title>
  <link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">
  <link rel="stylesheet" type="text/css" href="../css/iconfont.css">
  <link rel="stylesheet" type="text/css" href="../css/cloud_base.css">
  <link rel="stylesheet" type="text/css" href="../css/cloud_store.css">
  <script src="../js/jquery.min.js"></script>
  <script src="../js/bootstrap.min.js"></script>
</head>
<body>
<div class="wrapper wrapper-body">
  <div class="wrapper-main">
    <!--头部导航 开始-->
    <div class="platform-head">
      <div class="fl platform-head-logo"><img src="../images/logo.png"></div>
      <div class="fr">
          <div id="top-user-menu">
              <div class="top-user-menu-list">
                  <a href="###" title="新的通知"><span class="glyphicon glyphicon-bell" aria-hidden="true"></span><span class="la-message laber-style">1</span></a>
              </div>
              <div class="header-right dropdown">
                  <a href="###" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                      <img src="../images/developer/icon-man.png" class="user-img">
                      <span class="username">platform@campus.com</span>
                      <span class="arrow-wrapper"><img src="../images/app_store/icon-down.png" class="arrow-img"></span>
                  </a>
                  <ul class="dropdown-menu dropdown-menu-n">
                      <li class="toggle-role-text">切换至...</li>
                      <li><a href="###" class="top-edit top-edit-border"><i class="iconfont icon-iconfonticon5 mr_10"></i>用户角色</a></li>
                      <!-- <li><a href="###" class="top-edit"><i class="iconfont icon-icon_xiugaimima mr_10"></i>修改密码</a></li> -->
                      <li><a href="###" class="top-edit"><i class="iconfont icon-tuichu mr_10"></i>退出登录</a></li>
                  </ul>
              </div>
          </div>
      </div>
      <div class="fr">
          <ul class="head-top-menu">
              <li><a href="../developer/developer_index.html" class="active">开发者中心</a></li>
              <li><a href="../doc/doc_API_store.html">数据集市</a></li>
          </ul>
      </div>
    </div>
    <!--头部导航 end-->
    <!--中间部分 start-->
    <div class="developer-content">
      <!--左边列表 start-->
      <div id="sidebar" class="sidebar-item-style">
        <div class="developer-home">
          <div class="main-nav-user-info">
            <div class="main-nav-user">
              <img src="../images/developer/icon-man.png" alt="" width="86" height="86">
              <p><span>sunmiao@xjgreat.com</span></p>
            </div>
          </div>
          <ul class="main-nav-list">
            <li class="item">
              <a href="../developer/developer_index.html"><i class="iconfont icon-guanlishebei iconfont-sidebar"></i>应用管理</a>
            </li>
            <li class="item">
              <a href="../my/my_message.html"><i class="iconfont icon-xiaoxioff iconfont-sidebar"></i>消息中心</a>
            </li>
            <li class="item">
              <a href="../doc/doc_index03.html"><i class="iconfont icon-wendangzhongxin iconfont-sidebar"></i>文档中心</a>
            </li>
            <li class="item">
              <a href="../my/my_infor.html"><i class="iconfont icon-jibenziliao iconfont-sidebar"></i>基本资料</a>
            </li>
            <li class="toggle active">
              <a href="../my/password.html"><i class="iconfont icon-icon_xiugaimima iconfont-sidebar"></i>修改密码</a>
            </li>
          </ul>
        </div>
      </div>
      <!--左边列表 end-->
      <!--右边内容 start-->
      <div id="container" style="min-height: 820px;">
        <div class="content-body-new">
          <div class="content-top top-boder-color">
            <!--面包线 start-->
            <ol class="breadcrumb developer-breadcrumb">
              <li class="title">修改密码</span></li>
            </ol>
            <!--面包线 end-->
          </div>
          <!--修改密码-->
          <div class="infor-form-box infor-form-box-new">
            <form action="" id="pwd-form">
            <ul class="infor-form-list pwd-infor-form-list">
              <li class="form_group">
                <label class="control_label">账号信息</label>
                <div class="control_element">
                  <input type="email" id="email" class="form_control" value="yaojing@sina.com" disabled>
                  <div class="error_prompt"><span class="glyphicon glyphicon-remove-circle"></span> <p class="text_tip"></p></div>
                </div>
              </li>
              <li class="form_group">
                <label class="control_label">验证码</label>
                <div class="control_element">
                  <input type="text" id="code" class="form_control" style="width: 64%">
                  <span class="form_control_r"><button type="button" id="getCode" class="btn btn-blue getcode-btn">获取邮箱验证码</button></span>
                  
                  <div class="error_prompt"><span class="glyphicon glyphicon-remove-circle"></span> <p class="text_tip"></p></div>
                </div>
              </li>
              <li class="form_group">
                <label class="control_label">新密码</label>
                <div class="control_element">
                  <input type="password" id="pass" class="form_control">
                  <div class="error_prompt"><span class="glyphicon glyphicon-remove-circle"></span> <p class="text_tip"></p></div>
                </div>
              </li>
              <li class="form_group">
                <label class="control_label" style="margin-top: 6px;">密码强度</label>
                <div class="control_element">
                  <div id="passStrength" class="lvwrap">
                    <ul>
                      <li>低</li>
                      <li>中</li>
                      <li>强</li>
                    </ul>
                  </div>
                </div>
              </li>
              <li class="form_group">
                <label class="control_label">确认新密码</label>
                <div class="control_element">
                  <input type="password" id="pass2" class="form_control">
                  <div class="error_prompt"><span class="glyphicon glyphicon-remove-circle"></span> <p class="text_tip"></p></div>
                </div>
              </li>
              <li class="form_group">
                <label class="control_label"></label>
                <div class="control_element">
                  <a href="###" class="base-btn btn-blue btn-large" data-toggle="modal" data-target="#myModal">保存</a>
                </div>
              </li>
            </ul>
            </form>
          </div>
          <!--修改密码 end-->
        </div>
      </div>
      <!--右边内容 end-->
    </div>
    <!--中间部分 end-->
  </div>
  <!--底部-->
  <div class="platform-footer">
    <div class="footer-copy">
      <p>
        <a href="###">操作手册</a><span class="pr_20">|</span>
        <a href="###">API订阅协议</a><span class="pr_20">|</span>
        <a href="javascript:void(0)" data-toggle="modal" data-target="#myUrlModal">联系我们</a>
        <span class="footer-email">pingtaiceshi@xjgreat.com</span><span class="footer-phone">010-64421361</span>
      </p>
      <p>©版权所有©2015 希嘉科技. All right reserved. 京ICP备15000829号-1 技术支持：希嘉创智<span class="ml_10">地址：北京市丰台区南四环西路总部基地七区22号楼</span></p>
      <div class="ewm-code"><img src="../images/login/code.png" width="60" height="60" /></div>
    </div>
  </div>
  <!--底部end-->
</div>

<!-- 模态框成功（Modal） -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-tips">
        <div class="modal-content modal-content-tips">
            <div class="modal-header t-right boder-none">
              <button type="button" class="close" data-dismiss="modal" aria-hidden="true"><i class="iconfont icon-guanbi"></i></button>
            </div>
            <div class="modal-body">
              <div class="t-center mb_10"><i class="iconfont icon-zhengquetishi"></i></div>
              <p class="t-center fs16 c_2da7fb">恭喜您，提交成功</p>
              <p class="t-center c_a5aeb9">稍后请在API列表中查看结果</p>
            </div>
            <div class="modal-footer t-center boder-none modal-footer-tips">
                <button type="button" class="base-btn btn-blue btn-large">确定</button>
            </div>
        </div>
    </div>
  </div>
<!-- 模态框成功（Modal） -->

<script type="text/javascript">
$('#getCode').on('click',function(){
  var $this = $(this);
  settime($this)
})

var countdown=5;
function settime(btn) { 
  if (countdown == 0) { 
    btn.removeAttr('disabled');  
    btn.addClass('btn-blue');  
    btn.text('获取邮箱验证码');
    countdown = 5;
    return;
  } else { 
    btn.prop('disabled', true);
    btn.removeClass('btn-blue');
    btn.text(countdown+'秒后重新发送')
    countdown--; 
  }
  setTimeout(function() { 
    settime(btn) 
  },1000) 
}

function PasswordStrength(passwordID,strengthID){
    var _this = this;
    $('#'+passwordID).keyup(function(){
      _this.checkStrength($(this).val(),strengthID);
    })
};
PasswordStrength.prototype.checkStrength = function (val,strengthID){
    var $li = $('#'+strengthID).find('li');
    var lv = 0; 
    //if(val.match(/[^\u0000-\u00FF]/g)){ return}
    if(val.match(/[a-z]/g)){lv++;}
    if(val.match(/[0-9]/g)){lv++;}
    if(val.match(/(.[^a-z0-9])/g)){lv++;}
    if(val.length < 6){lv=0;}
    if(lv > 3){lv=3;}
    switch(lv)
    {
    case 1:
      $li.removeClass();
      $li.eq(lv-1).addClass('lv1');
      break;
    case 2:
      $li.removeClass();
      $li.eq(lv-1).addClass('lv2')
      break;
    case 3:
      $li.removeClass();
      $li.eq(lv-1).addClass('lv3')
      break;
    default:
      $li.removeClass();
    }
};
new PasswordStrength('pass','passStrength');
$('body').on('click','#sub-btn',function(){
  var id_arr = ['email','code','pass','pass2'];
  var state = false;
  $('.error_prompt').hide();
  for(var i=0; i<id_arr.length; i++){
    var $input = $('#'+id_arr[i])
    ,$parent = $input.parent()
    ,$tip = $parent.find('.text_tip')
    ,$tip_wrap = $tip.parent();
    if($input.val() == ''){
      $tip.text('该字段不能为空');
      $tip_wrap.show();
      state = false;
    }else{
      if(id_arr[i] == 'pass'){
        if(($('#'+id_arr[i]).val().length < 6)){
          $tip.text('密码不能小于6位字符');
          $tip_wrap.show();
          state = false;
        }
        else if($('#'+id_arr[i]).val() !== $('#pass2').val()){
          $tip.text('输入的密码不一致');
          $tip_wrap.show();
          state = false;
        }else{
          state = true;
        }
      }else{
        state = true;
      }
    }
    if(!state){
      return false
    }
  }
  $('#myModal').modal();
})

</script>
<!--底部end-->
</body>
</html>
